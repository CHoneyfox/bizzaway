{% extends "base.html" %}
{% load static%}

{% block title %}Main page{% endblock %}

{% block extra %}
    <script src="{% static 'show_pizza.js' %}"></script>
{% endblock %}

{% block content %}
<div id="picture" class="md:w-1/2 h-auto rounded-lg flex items-center justify-center">
    <img src="{% static 'img/initial.png' %}" alt="pizza image" id="image" class="w-full rounded-sm m-4">
</div>


<div id="pizza" class="p-4 rounded-lg md:w-1/2">
    <h1 class="text-3xl font-bold text-pizza-red mb-4 text-center md:text-left">Pizzas</h1>

    <ul class="space-y-4">
        {% for pizza in pizzas %}
        <li>
            <h2 class="text-xl font-semibold text-center md:text-left" onclick="showImage('{{  pizza.image.url  }}')">{{ pizza.name }}</h2>

            <ul class="flex flex-wrap justify-center space-x-4">
                {% for ingredient in pizza.ingredients.all %}
                    <li class="relative group">
                        
                        <span class="border border-pizza-red rounded-md px-2 py-1 text-pizza-red cursor-pointer hover:bg-pizza-red hover:text-white group-hover:bg-pizza-red group-hover:text-white">
                            {{ ingredient }}
                        </span>

                        <div class="absolute left-1/2 transform -translate-x-1/2 top-8 opacity-0 group-hover:opacity-80 transition-opacity duration-300 ease-in-out bg-gray-800 text-white py-4 px-6 rounded-md text-sm shadow-md pointer-events-none z-50">
                            <strong class="block text-xl mb-2">{{ ingredient.name }}</strong>
                            <p>kcal: {{ ingredient.get_calories }}</p>
                            <p>c: {{ ingredient.get_carbs }}</p>
                            <p>p: {{ ingredient.get_protein }}</p>
                            <p>f: {{ ingredient.get_fat }}</p>
                        </div>
                        
                    </li>
                {% endfor %}
            </ul>
            
            <div class="mt-2">
                <p><strong>Calories:</strong> {{ pizza.get_calories }}</p>
                <p><strong>Carbs:</strong> {{ pizza.get_carbs }}g</p>
                <p><strong>Protein:</strong> {{ pizza.get_protein }}g</p>
                <p><strong>Fat:</strong> {{ pizza.get_fat }}g</p>
            </div>
            
        </li>
        <hr class="my-4 border-t border-gray-400">
        {% endfor %}
    </ul>
</div>
{% endblock %}